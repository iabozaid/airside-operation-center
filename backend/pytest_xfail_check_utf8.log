============================= test session starts =============================
platform win32 -- Python 3.14.2, pytest-9.0.2, pluggy-1.6.0
rootdir: C:\Projects\Riyadh Airport\backend
configfile: pyproject.toml
plugins: anyio-4.12.1, asyncio-1.3.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 34 items

tests\test_api_contracts.py ..x                                          [  8%]
tests\test_baggage_visitors.py ..                                        [ 14%]
tests\test_bootstrap.py ...                                              [ 23%]
tests\test_consumers.py ......                                           [ 41%]
tests\test_identity_api.py ......                                        [ 58%]
tests\test_notifications.py ..                                           [ 64%]
tests\test_soc_service.py .......                                        [ 85%]
tests\test_sse.py .                                                      [ 88%]
tests\test_ticket_service.py ....                                        [100%]

============================== warnings summary ===============================
src\soc\schemas.py:20
  C:\Projects\Riyadh Airport\backend\src\soc\schemas.py:20: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    updated_at_utc: datetime = datetime.utcnow()

src\main.py:35
  C:\Projects\Riyadh Airport\backend\src\main.py:35: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("startup")

..\venv\Lib\site-packages\fastapi\applications.py:4576
..\venv\Lib\site-packages\fastapi\applications.py:4576
  c:\Projects\Riyadh Airport\venv\Lib\site-packages\fastapi\applications.py:4576: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    return self.router.on_event(event_type)

src\main.py:54
  C:\Projects\Riyadh Airport\backend\src\main.py:54: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("shutdown")

tests/test_api_contracts.py::test_api_contracts
tests/test_api_contracts.py::test_fleet_lifecycle
tests/test_api_contracts.py::test_fleet_lifecycle
tests/test_api_contracts.py::test_fleet_lifecycle
tests/test_api_contracts.py::test_sse_sanity
tests/test_api_contracts.py::test_sse_sanity
tests/test_api_contracts.py::test_sse_sanity
  C:\Projects\Riyadh Airport\backend\src\shared\event_bus.py:96: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    timestamp = datetime.utcnow().isoformat()

tests/test_api_contracts.py::test_api_contracts
tests/test_api_contracts.py::test_fleet_lifecycle
tests/test_api_contracts.py::test_fleet_lifecycle
tests/test_api_contracts.py::test_fleet_lifecycle
tests/test_api_contracts.py::test_sse_sanity
tests/test_api_contracts.py::test_sse_sanity
tests/test_api_contracts.py::test_sse_sanity
  C:\Projects\Riyadh Airport\backend\src\shared\event_bus.py:90: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    ts = int(datetime.utcnow().timestamp() * 1000)

tests/test_api_contracts.py::test_sse_sanity
  C:\Projects\Riyadh Airport\backend\src\simulation\control_router.py:28: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    timestamp = datetime.datetime.utcnow().isoformat()

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================= 33 passed, 1 xfailed, 20 warnings in 11.08s =================
